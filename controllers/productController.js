import db from "../config/db.js"; export const getProducts = (req, res) => { db.query("SELECT * FROM products", (err, results) => { if (err) return res.status(500).json({ error: err }); res.json(results); }); }; export const getProductById = (req, res) => { const { id } = req.params; db.query("SELECT * FROM products WHERE id = ?", [id], (err, results) => { if (err) return res.status(500).json({ error: err }); res.json(results[0]); }); }; export const createProduct = (req, res) => { const { name, description, price, category_id } = req.body; db.query( "INSERT INTO products (name, description, price, category_id) VALUES (?, ?, ?, ?)", [name, description, price, category_id], (err, result) => { if (err) return res.status(500).json({ error: err }); res.json({ id: result.insertId, name, description, price, category_id }); } ); }; export const updateProduct = (req, res) => { const { id } = req.params; const { name, description, price, category_id } = req.body; db.query( "UPDATE products SET name = ?, description = ?, price = ?, category_id = ? WHERE id = ?", [name, description, price, category_id, id], (err) => { if (err) return res.status(500).json({ error: err }); res.json({ message: "Producto actualizado correctamente" }); } ); }; export const deleteProduct = (req, res) => { const { id } = req.params; db.query("DELETE FROM products WHERE id = ?", [id], (err) => { if (err) return res.status(500).json({ error: err }); res.json({ message: "Producto eliminado correctamente" }); }); };